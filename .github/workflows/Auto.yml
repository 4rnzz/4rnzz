name: super chaotic green graph

on:
  workflow_dispatch:

jobs:
  chaos_fill:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Setup Git identity
        run: |
          git config --global user.name "4rnzz"
          git config --global user.email "sellrnzz@gmail.com"

      - name: Generate commits with chaos
        run: |
          DAYS=365
          for i in $(seq 0 $DAYS); do
            DATE=$(date -d "$i days ago" +%Y-%m-%d)
            
            MODE=$((RANDOM % 5))  # 0 = kosong, 1â€“3 = normal, 4 = super gila

            if [ $MODE -eq 0 ]; then
              echo "âŒ $DATE â†’ No commit"
              continue
            elif [ $MODE -eq 4 ]; then
              COUNT=$((RANDOM % 51 + 100))  # 100â€“150 commit
              echo "ðŸ’¥ $DATE â†’ $COUNT insane commits!"
            else
              COUNT=$((RANDOM % 21 + 10))   # 10â€“30 commit
              echo "âœ… $DATE â†’ $COUNT normal commits"
            fi

            for j in $(seq 1 $COUNT); do
              echo "$DATE chaotic commit $j" >> Commit.txt
              git add Commit.txt
              GIT_COMMITTER_DATE="$DATE 12:$((RANDOM % 60)):00" \
              GIT_AUTHOR_DATE="$DATE 12:$((RANDOM % 60)):00" \
              git commit -m "ðŸ”¥ chaos: $DATE #$j"
            done
          done

          git push
